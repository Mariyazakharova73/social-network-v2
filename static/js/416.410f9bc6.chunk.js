"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[416],{9416:function(e,t,n){n.r(t),n.d(t,{default:function(){return mt}});var r=n(1413),i=n(5671),o=n(3144),a=n(136),s=n(9388),l=n(2791),u=n(8687),c=n(493),d=n(9439),p=n(3400),h=n(7247),f=n(3044),v=n(890),m=n(4454),x=n(7488),Z=n(7237),j=n(7621),b=n(4942),g=n(3366),y=n(7462),w=n(3733),P=n(4419),C=n(1402),k=n(6934),S=n(5878),M=n(1217);function F(e){return(0,M.Z)("MuiCardHeader",e)}var z=(0,S.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),A=n(184),T=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],N=(0,k.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return(0,y.Z)((n={},(0,b.Z)(n,"& .".concat(z.title),t.title),(0,b.Z)(n,"& .".concat(z.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),B=(0,k.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),I=(0,k.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),O=(0,k.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),R=l.forwardRef((function(e,t){var n=(0,C.Z)({props:e,name:"MuiCardHeader"}),r=n.action,i=n.avatar,o=n.className,a=n.component,s=void 0===a?"div":a,l=n.disableTypography,u=void 0!==l&&l,c=n.subheader,d=n.subheaderTypographyProps,p=n.title,h=n.titleTypographyProps,f=(0,g.Z)(n,T),m=(0,y.Z)({},n,{component:s,disableTypography:u}),x=function(e){var t=e.classes;return(0,P.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},F,t)}(m),Z=p;null==Z||Z.type===v.Z||u||(Z=(0,A.jsx)(v.Z,(0,y.Z)({variant:i?"body2":"h5",className:x.title,component:"span",display:"block"},h,{children:Z})));var j=c;return null==j||j.type===v.Z||u||(j=(0,A.jsx)(v.Z,(0,y.Z)({variant:i?"body2":"body1",className:x.subheader,color:"text.secondary",component:"span",display:"block"},d,{children:j}))),(0,A.jsxs)(N,(0,y.Z)({className:(0,w.Z)(x.root,o),as:s,ref:t,ownerState:m},f,{children:[i&&(0,A.jsx)(B,{className:x.avatar,ownerState:m,children:i}),(0,A.jsxs)(O,{className:x.content,ownerState:m,children:[Z,j]}),r&&(0,A.jsx)(I,{className:x.action,ownerState:m,children:r})]}))})),D=n(9504),G=n(2363),E=n(2460),H=n(2898),L=n(4165),V=n(5861),W=n(4098),_=function(e){return W.e.get("profile/".concat(e)).then((function(e){return e.data}))},J=function(e){return W.e.get("profile/status/".concat(e)).then((function(e){return e.data}))},U=function(e){return W.e.put("profile/status",{status:e}).then((function(e){return e.data}))},$=function(e){var t=new FormData;return t.append("image",e),W.e.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Y=function(e){return W.e.put("profile",e).then((function(e){return e.data}))},Q=n(6930),q=function(e){return function(){var t=(0,V.Z)((0,L.Z)().mark((function t(n){var r;return(0,L.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:r=t.sent,n((i=r,{type:Q.PU,profile:i}));case 4:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return{type:Q.d0,status:e}},K=function(e){var t,n=e.item,r=e.profile,i=l.useState(!1),o=(0,d.Z)(i,2),a=o[0],s=o[1],c=(0,u.I0)(),b=function(e){c(function(e){return{type:Q.Xv,postId:e}}(e))};return(0,A.jsxs)(j.Z,{sx:{marginBottom:5},children:[(0,A.jsx)(R,{avatar:(0,A.jsx)(f.Z,{sx:{bgcolor:E.Z[500]},src:(null===r||void 0===r||null===(t=r.photos)||void 0===t?void 0:t.large)||"",children:"A"}),action:(0,A.jsx)(p.Z,{children:(0,A.jsx)(H.Z,{})}),title:null===r||void 0===r?void 0:r.fullName,subheader:n.date}),(0,A.jsx)(D.Z,{children:(0,A.jsx)(v.Z,{variant:"body2",color:"text.secondary",children:n.message})}),(0,A.jsxs)(G.Z,{disableSpacing:!0,children:[(0,A.jsx)(v.Z,{children:a?n.likesCount+1:n.likesCount}),(0,A.jsx)(m.Z,{icon:(0,A.jsx)(x.Z,{}),checked:a,onChange:function(){s(!a)},checkedIcon:(0,A.jsx)(Z.Z,{})}),(0,A.jsx)(p.Z,{"aria-label":"delete",onClick:function(){return b(n.id)},sx:{marginLeft:"auto"},children:(0,A.jsx)(h.Z,{})})]})]})},ee=n(6151),te=n(4554),ne=n(1686);var re=function(){var e="object"===typeof window,t=(0,l.useState)(e?window.innerWidth:void 0),n=(0,d.Z)(t,2),r=n[0],i=n[1];return(0,l.useEffect)((function(){function t(){i(window.innerWidth)}if(e)return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e,i]),r},ie=n(2506),oe=n(7491),ae=n(7460),se=n(9230),le=function(e){var t=e.onAddPost,n=(0,se.$G)().t,r=re();return(0,A.jsx)(ie.J9,{initialValues:{newPostText:""},onSubmit:function(e,n){var r=n.resetForm;t(e.newPostText),r()},validationSchema:oe.wS,children:function(e){e.values,e.handleChange;var t=e.errors,i=e.touched,o=e.dirty;return(0,A.jsx)(te.Z,{sx:{maxWidth:{sm:"70%"}},mb:2,children:(0,A.jsxs)(ie.l0,{children:[(0,ae.Gr)("newPostText",n("yourNews"),i,t,{fullWidth:!0}),(0,A.jsx)(te.Z,{mt:2,sx:{textAlign:"end"},children:(0,A.jsx)(ee.Z,{variant:"contained",type:"submit",endIcon:(0,A.jsx)(ne.Z,{}),fullWidth:!!r&&r<600,disabled:!o||!!t.newPostText,children:n("buttonSend")})})]})})}})},ue=n(5379),ce=(n(3049),l.memo((function(){var e=(0,u.I0)(),t=(0,u.v9)(ue.H),n=(0,u.v9)(ue.d),r=(0,se.$G)().t;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.Z,{mt:2,variant:"h6",component:"h2",children:r("myPosts")}),(0,A.jsx)(le,{onAddPost:function(t){var n;e((n=t,{type:Q.os,newPostText:n}))}}),(0,A.jsx)(c.Z,{children:n.map((function(e){return(0,A.jsx)(K,{item:e,profile:t},e.id)}))})]})}))),de=n(911),pe=n(3786),he=n(3768),fe=n(1286),ve=n(9048),me=n(1198),xe=n(9900),Ze=n(7064),je=n(8595);function be(e,t){if(null==e)return{};var n,r,i=(0,g.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ge,ye,we=n(168),Pe=n(9663),Ce=n(9823),ke=n(3466),Se=n(4953),Me=["text","isPlaceholder","placeholder"],Fe=["value","onChange","disabled","getInputText","getSizeText","placeholder","hideSizeText","inputProps","InputProps","multiple","className"],ze=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Ae=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Te=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Ne=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Be=function(e,t,n){var r=e;return"string"==typeof t||Array.isArray(t)?r=e.toLocaleString(t,n):(!0===t||void 0!==n)&&(r=e.toLocaleString(void 0,n)),r};function Ie(e,t){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));var n=(t=(0,r.Z)({bits:!1,binary:!1,space:!0},t)).bits?t.binary?Ne:Te:t.binary?Ae:ze,i=t.space?" ":"";if(t.signed&&0===e)return" 0".concat(i).concat(n[0]);var o,a=e<0,s=a?"-":t.signed?"+":"";if(a&&(e=-e),void 0!==t.minimumFractionDigits&&(o={minimumFractionDigits:t.minimumFractionDigits}),void 0!==t.maximumFractionDigits&&(o=(0,r.Z)({maximumFractionDigits:t.maximumFractionDigits},o)),e<1)return s+Be(e,t.locale,o)+i+n[0];var l=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);return e/=Math.pow(t.binary?1024:1e3,l),o||(e=e.toPrecision(3)),s+Be(Number(e),t.locale,o)+i+n[l]}var Oe={Label:(0,k.ZP)("label")(ge||(ge=(0,we.Z)(["\n  position: relative;\n  flex-grow: 1;\n\n  input {\n    opacity: 0 !important;\n  }\n\n  & > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n  }\n\n  span.MuiFileInput-placeholder {\n    color: gray;\n  }\n"]))),Filename:(0,k.ZP)("div")(ye||(ye=(0,we.Z)(["\n  display: flex;\n  width: 100%;\n\n  & > span {\n    display: block;\n  }\n\n  & > span:first-child {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  & > span:last-child {\n    flex-shrink: 0;\n    display: block;\n  }\n"])))},Re=l.forwardRef((function(e,t){var n=e.text,i=e.isPlaceholder,o=e.placeholder,a=be(e,Me),s=l.useId();return(0,A.jsxs)(Oe.Label,{htmlFor:s,children:[(0,A.jsx)("input",(0,r.Z)((0,r.Z)({},a),{},{ref:t,id:s})),n?(0,A.jsx)("span",{"aria-placeholder":o,className:i?"MuiFileInput-placeholder":"",children:"string"==typeof n?n:(0,A.jsxs)(Oe.Filename,{children:[(0,A.jsx)("span",{children:n.filename}),(0,A.jsxs)("span",{children:[".",n.extension]})]})}):null]})}));function De(e){return typeof window<"u"&&e instanceof File}var Ge=l.forwardRef((function(e,t){var n,i=e.value,o=e.onChange,a=e.disabled,s=e.getInputText,u=e.getSizeText,c=e.placeholder,d=e.hideSizeText,h=e.inputProps,f=e.InputProps,m=e.multiple,x=e.className,Z=be(e,Fe),j=l.useRef(null),b=m||(null===h||void 0===h?void 0:h.multiple)||(null===f||void 0===f||null===(n=f.inputProps)||void 0===n?void 0:n.multiple)||!1,g=Array.isArray(i)?function(e){return e.length>0}(i):De(i);return(0,A.jsx)(Se.Z,(0,r.Z)({ref:t,type:"file",disabled:a,onChange:function(e){var t=e.target.files,n=t?function(e){return Array.from(e)}(t):[];(function(){var e=j.current;e&&(e.value="")})(),null===o||void 0===o||o(b?n:n[0])},className:"MuiFileInput-TextField ".concat(x||""),InputProps:(0,r.Z)((0,r.Z)({startAdornment:(0,A.jsx)(ke.Z,{position:"start",children:(0,A.jsx)(Pe.Z,{})}),endAdornment:(0,A.jsxs)(ke.Z,{position:"end",style:{visibility:g?"visible":"hidden"},children:[d?null:(0,A.jsx)(v.Z,{variant:"caption",mr:"2px",className:"MuiFileInput-Typography-size-text",children:function(){if("function"==typeof u&&void 0!==i)return u(i);if(g){if(Array.isArray(i)){var e=function(e){return e.reduce((function(e,t){return e+t.size}),0)}(i);return Ie(e)}if(De(i))return Ie(i.size)}return""}()}),(0,A.jsx)(p.Z,{"aria-label":"Clear",title:"Clear",size:"small",disabled:a,className:"MuiFileInput-IconButton",onClick:function(e){e.preventDefault(),!a&&(null===o||void 0===o||o(m?[]:null))},children:(0,A.jsx)(Ce.Z,{fontSize:"small"})})]})},f),{},{inputProps:(0,r.Z)((0,r.Z)({text:null===i||Array.isArray(i)&&0===i.length?c||"":"function"==typeof s&&void 0!==i?s(i):i&&g?Array.isArray(i)&&i.length>1?"".concat(i.length," files"):function(e){var t,n=(De(e)?e.name:(null===(t=e[0])||void 0===t?void 0:t.name)||"").split("."),r=n.pop();return{filename:n.join("."),extension:r}}(i):"",multiple:b,isPlaceholder:null===i||Array.isArray(i)&&0===i.length,ref:j,placeholder:c},h),null===f||void 0===f?void 0:f.inputProps),inputComponent:Re})},Z))})),Ee=n(3457),He=n(6314),Le=(0,Ee.Z)(te.Z)((function(e){var t=e.theme;return(0,b.Z)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,backgroundColor:t.palette.common.white,padding:30,borderRadius:20},t.breakpoints.down("md"),{width:"70%"})})),Ve=(0,Ee.Z)(te.Z)((function(e){e.theme;return{display:"flex",flexDirection:"column",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:20,background:"transparent"}})),We=(0,Ee.Z)(p.Z)((function(e){e.theme;return{marginLeft:"auto",transform:"translate(10px, 5px)",color:"white"}})),_e=(0,Ee.Z)(te.Z)((function(e){var t=e.theme;return(0,b.Z)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:400,backgroundColor:t.palette.common.white,padding:30,borderRadius:20,maxWidth:"720px"},t.breakpoints.down("sm"),{width:"70%",minWidth:"auto"})})),Je=(0,Ee.Z)(He.Z)((function(e){e.theme;return{flexWrap:"wrap",rowGap:"16px",columnGap:"16px"}})),Ue=function(e){var t=e.openModal,n=e.savePhoto,r=e.handleCloseModal,i=(0,se.$G)().t,o=l.useState(null),a=(0,d.Z)(o,2),s=a[0],u=a[1];return(0,A.jsx)("div",{children:(0,A.jsx)(je.Z,{open:t,onClose:r,children:(0,A.jsxs)(Le,{children:[(0,A.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:i("photoUpload")}),(0,A.jsx)(v.Z,{id:"modal-modal-description",sx:{mt:2},children:i("photoFormat")}),(0,A.jsx)(Ge,{sx:{mt:2},value:s,onChange:function(e){u(e),n(e),setTimeout((function(){r()}),2e3)}})]})})})},$e="Modal_image__QwVyQ",Ye=function(e){var t=e.openModal,n=e.handleClosePhotoModal,r=e.photo;return(0,A.jsx)("div",{children:(0,A.jsx)(je.Z,{open:t,onClose:n,children:(0,A.jsxs)(Ve,{children:[(0,A.jsx)(We,{"aria-label":"close",onClick:n,children:(0,A.jsx)(Ce.Z,{})}),(0,A.jsx)("img",{className:$e,src:r||me,alt:"UserAvatar."})]})})})},Qe=function(e){var t=e.handleClick,n=e.anchorEl,r=e.handleClose,i=e.photo,o=e.isOwner,a=e.savePhoto,s=(0,se.$G)().t,u=Boolean(n),c=l.useState(!1),h=(0,d.Z)(c,2),v=h[0],m=h[1],x=l.useState(!1),Z=(0,d.Z)(x,2),j=Z[0],b=Z[1];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ue,{openModal:v,handleCloseModal:function(){return m(!1)},savePhoto:a}),(0,A.jsx)(Ye,{openModal:j,handleClosePhotoModal:function(){return b(!1)},photo:i}),(0,A.jsx)(he.Z,{title:"Avatar settings",children:(0,A.jsx)(p.Z,{onClick:t,"aria-controls":u?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:(0,A.jsx)(f.Z,{sx:{height:"100px",width:"100px"},src:i||me})})}),(0,A.jsxs)(de.Z,{anchorEl:n,id:"account-menu",open:u,onClose:r,onClick:r,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,A.jsxs)(pe.Z,{onClick:function(){r(),b(!0)},children:[(0,A.jsx)(Ze.Z,{children:(0,A.jsx)(ve.Z,{fontSize:"small"})}),(0,A.jsx)(xe.Z,{children:s("openPhoto")})]}),o&&(0,A.jsxs)(pe.Z,{onClick:function(){r(),m(!0)},children:[(0,A.jsx)(Ze.Z,{children:(0,A.jsx)(fe.Z,{fontSize:"small"})}),(0,A.jsx)(xe.Z,{children:s("editPhoto")})]})]})]})},qe=n(8289),Xe=function(e){var t=e.openForm,n=e.handleCloseModal,r=e.saveProfile,i=e.profile,o=(0,se.$G)().t,a=l.useState(!1),s=(0,d.Z)(a,2),u=s[0],c=s[1],p=function(e,t){"clickaway"!==t&&c(!1)};return(0,A.jsx)(ie.J9,{initialValues:(0,ae.xp)(i),enableReinitialize:!0,onSubmit:function(e,t){var i=t.resetForm,o=(0,ae.AC)(e);r(o),i(),setTimeout((function(){n()}),1e3)},validationSchema:oe.jE,children:function(e){e.values,e.handleChange;var r=e.errors,a=e.touched,s=e.dirty,c=e.status;return(0,A.jsx)(je.Z,{open:t,onClose:n,children:(0,A.jsx)(_e,{children:(0,A.jsxs)(ie.l0,{children:[(0,A.jsxs)(He.Z,{spacing:2,children:[(0,ae.Gr)("fullName",o("fullName"),a,r),(0,A.jsxs)("label",{style:{fontFamily:"montserrat"},children:[(0,A.jsx)(ie.gN,{size:"small",as:m.Z,name:"lookingForAJob",type:"checkbox"}),o("job")]}),(0,ae.Gr)("lookingForAJobDescription",o("skills"),a,r),(0,ae.Gr)("aboutMe",o("aboutMe"),a,r),(0,A.jsx)(Je,{direction:"row",children:(null===i||void 0===i?void 0:i.contacts)&&Object.keys(null===i||void 0===i?void 0:i.contacts).map((function(e){return(0,A.jsx)(l.Fragment,{children:(0,ae.Gr)(e,e,a,r)},e)}))}),(0,A.jsx)(te.Z,{mt:2,sx:{textAlign:"end"},children:(0,A.jsx)(ee.Z,{variant:"contained",type:"submit",endIcon:(0,A.jsx)(ne.Z,{}),disabled:!s||!!r.fullName||!!r.lookingForAJob||!!r.lookingForAJobDescription||!!r.aboutMe||!!r.website||!!r.twitter||!!r.youtube||!!r.github||!!r.facebook||!!r.mainLink,fullWidth:!0,children:o("saveButton")})})]}),(0,A.jsx)(qe.Z,{text:null===c||void 0===c?void 0:c.testError,open:u,handleClose:p})]})})})}})},Ke="ProfileStatus_text__luPN3",et=function(e){var t=e.updateStatus,n=e.prevStatus,r=e.isOwner,i=(0,se.$G)().t,o=(0,l.useState)(!1),a=(0,d.Z)(o,2),s=a[0],u=a[1],c=(0,l.useState)(n),h=(0,d.Z)(c,2),f=h[0],m=h[1];(0,l.useEffect)((function(){m(n)}),[n]);return s?(0,A.jsx)("form",{children:(0,A.jsx)(Se.Z,{onChange:function(e){m(e.target.value)},variant:"standard",value:f,onBlur:function(){u(!1),t(f)},autoFocus:!0})}):(0,A.jsxs)(He.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,A.jsxs)(v.Z,{component:"p",children:[(0,A.jsxs)("span",{className:Ke,children:[i("status"),":\u2002"]})," ",n||"\u041d\u0435 \u0437\u0430\u0434\u0430\u043d"]}),r&&(0,A.jsx)(p.Z,{size:"small",onClick:function(){u(!0)},children:(0,A.jsx)(fe.Z,{fontSize:"inherit"})})]})},tt=function(e){var t=e.contactTitle,n=e.contactValue;return(0,A.jsxs)(v.Z,{component:"p",children:[t,": ",n]})},nt=n(4721),rt="ProfileData_text__7SCFd",it=function(e){var t=e.profile,n=e.status,r=e.updateStatus,i=e.isOwner,o=e.handleOpenForm,a=(0,se.$G)().t;return(0,A.jsxs)(He.Z,{ml:{sm:2},children:[(0,A.jsxs)(v.Z,{component:"p",children:[(0,A.jsxs)("span",{className:rt,children:[a("fullName"),":\u2002"]})," ",null===t||void 0===t?void 0:t.fullName]}),(0,A.jsxs)(v.Z,{component:"p",children:[(0,A.jsxs)("span",{className:rt,children:[a("aboutMe"),":\u2002"]})," ",null===t||void 0===t?void 0:t.aboutMe]}),(0,A.jsxs)(v.Z,{component:"p",children:[(0,A.jsxs)("span",{className:rt,children:[a("job"),":\u2002"]}),null!==t&&void 0!==t&&t.lookingForAJob?"yes":"no"]}),(null===t||void 0===t?void 0:t.lookingForAJobDescription)&&(0,A.jsxs)(v.Z,{component:"p",children:[(0,A.jsxs)("span",{className:rt,children:[a("skills"),":\u2002"]}),null===t||void 0===t?void 0:t.lookingForAJobDescription]}),(0,A.jsxs)(He.Z,{direction:"row",children:[(0,A.jsxs)(He.Z,{direction:"row",sx:{flexWrap:"wrap",fontFamily:"montserrat"},children:[(0,A.jsxs)("span",{className:rt,children:[a("contacts"),":\u2002"]}),(null===t||void 0===t?void 0:t.contacts)&&Object.keys(null===t||void 0===t?void 0:t.contacts).map((function(e){return(0,A.jsxs)(l.Fragment,{children:[(0,A.jsx)(tt,{contactTitle:e,contactValue:null===t||void 0===t?void 0:t.contacts[e]}),"\u2002"]},e)}))]}),i&&(0,A.jsx)(p.Z,{size:"small",onClick:o,children:(0,A.jsx)(fe.Z,{fontSize:"inherit"})})]}),(0,A.jsx)(nt.Z,{}),(0,A.jsx)(et,{prevStatus:n,updateStatus:r,isOwner:i})]})},ot=(0,Ee.Z)(He.Z)((function(e){var t=e.theme;return(0,b.Z)({flexDirection:"row"},t.breakpoints.down("sm"),{flexDirection:"column"})})),at=function(e){var t,n=e.profile,r=e.status,i=e.updateStatus,o=e.isOwner,a=e.savePhoto,s=e.saveProfile,u=(0,l.useState)(null),c=(0,d.Z)(u,2),p=c[0],h=c[1],f=(0,l.useState)(!1),v=(0,d.Z)(f,2),m=v[0],x=v[1];return(0,A.jsxs)(ot,{children:[(0,A.jsx)(Qe,{handleClick:function(e){h(e.currentTarget)},anchorEl:p,handleClose:function(){h(null)},photo:(null===n||void 0===n||null===(t=n.photos)||void 0===t?void 0:t.large)||"",isOwner:o,savePhoto:a}),(0,A.jsx)(Xe,{openForm:m,handleCloseModal:function(){x(!1)},saveProfile:s,profile:n}),(0,A.jsx)(it,{status:r,updateStatus:i,profile:n,isOwner:o,handleOpenForm:function(){x(!0)}})]})},st=function(e){var t=e.profile,n=e.status,r=e.updateStatus,i=e.isOwner,o=e.savePhoto,a=e.saveProfile;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(at,{profile:t,status:n,updateStatus:r,isOwner:i,savePhoto:o,saveProfile:a}),i&&(0,A.jsx)(ce,{})]})},lt=n(7689);var ut=function(e){return function(t){var n=(0,lt.TH)(),i=(0,lt.s0)(),o=(0,lt.UO)();return(0,A.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:n,navigate:i,params:o},navigate:i}))}},ct=n(7781),dt=n(3585),pt=["isAuth"],ht=function(e){return{isAuth:e.authReducer.isAuth}};function ft(e){return(0,u.$j)(ht)((function(t){var n=t.isAuth,i=be(t,pt);return n?(0,A.jsx)(e,(0,r.Z)({},i)):(0,A.jsx)(lt.Fg,{to:dt.wm})}))}var vt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.router.params.id;"*"!==e&&e||(e=this.props.authorizedUserId)||window.location.replace(dt.wm),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.router.params.id!==e.router.params.id&&this.refreshProfile()}},{key:"render",value:function(){return(0,A.jsx)(st,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.id||"*"===this.props.router.params.id,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),n}(l.Component),mt=(0,ct.qC)((0,u.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authorizedUserId:e.authReducer.userId,isAuth:e.authReducer.isAuth}}),{getUserProfile:q,getStatus:function(e){return function(){var t=(0,V.Z)((0,L.Z)().mark((function t(n){var r;return(0,L.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:r=t.sent,n(X(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=(0,V.Z)((0,L.Z)().mark((function t(n){var r;return(0,L.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:0===(r=t.sent).resultCode&&n(X(e)),1===r.resultCode&&Promise.reject("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044f \u0434\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 - 300 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=(0,V.Z)((0,L.Z)().mark((function t(n){var r;return(0,L.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:0===(r=t.sent).resultCode&&n((i=r.data.photos,{type:Q.zj,photos:i}));case 4:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=(0,V.Z)((0,L.Z)().mark((function t(n,r){var i;return(0,L.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r().authReducer.userId,t.next=3,Y(e);case 3:0===t.sent.resultCode&&i&&n(q(i));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),ut,ft)(vt)},9663:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.Z=a},9823:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=a},7247:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=a},1286:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=a},7237:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=a},7488:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=a},2898:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=a},9048:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}),"Panorama");t.Z=a}}]);
//# sourceMappingURL=416.410f9bc6.chunk.js.map