"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[700],{6700:function(t,e,n){n.r(e),n.d(e,{default:function(){return de}});var o=n(1413),r=n(5671),i=n(3144),a=n(136),s=n(7277),l=n(2791),u=n(8687),c=n(493),d=n(9439),p=n(3400),h=n(7247),f=n(3044),v=n(890),m=n(4454),x=n(7488),Z=n(7237),b=n(7621),j=n(4942),g=n(3366),y=n(7462),w=n(8182),k=n(4419),C=n(1402),P=n(6934),M=n(5878),S=n(1217);function F(t){return(0,S.Z)("MuiCardHeader",t)}var A=(0,M.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),z=n(184),T=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],N=(0,P.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(t,e){var n;return(0,y.Z)((n={},(0,j.Z)(n,"& .".concat(A.title),e.title),(0,j.Z)(n,"& .".concat(A.subheader),e.subheader),n),e.root)}})({display:"flex",alignItems:"center",padding:16}),B=(0,P.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(t,e){return e.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),O=(0,P.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(t,e){return e.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),I=(0,P.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(t,e){return e.content}})({flex:"1 1 auto"}),D=l.forwardRef((function(t,e){var n=(0,C.Z)({props:t,name:"MuiCardHeader"}),o=n.action,r=n.avatar,i=n.className,a=n.component,s=void 0===a?"div":a,l=n.disableTypography,u=void 0!==l&&l,c=n.subheader,d=n.subheaderTypographyProps,p=n.title,h=n.titleTypographyProps,f=(0,g.Z)(n,T),m=(0,y.Z)({},n,{component:s,disableTypography:u}),x=function(t){var e=t.classes;return(0,k.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},F,e)}(m),Z=p;null==Z||Z.type===v.Z||u||(Z=(0,z.jsx)(v.Z,(0,y.Z)({variant:r?"body2":"h5",className:x.title,component:"span",display:"block"},h,{children:Z})));var b=c;return null==b||b.type===v.Z||u||(b=(0,z.jsx)(v.Z,(0,y.Z)({variant:r?"body2":"body1",className:x.subheader,color:"text.secondary",component:"span",display:"block"},d,{children:b}))),(0,z.jsxs)(N,(0,y.Z)({className:(0,w.Z)(x.root,i),as:s,ref:e,ownerState:m},f,{children:[r&&(0,z.jsx)(B,{className:x.avatar,ownerState:m,children:r}),(0,z.jsxs)(I,{className:x.content,ownerState:m,children:[Z,b]}),o&&(0,z.jsx)(O,{className:x.action,ownerState:m,children:o})]}))})),L=n(9504),R=n(2363),E=n(2460),J=n(2898),H=function(t){var e,n=t.item,o=t.profile,r=l.useState(!1),i=(0,d.Z)(r,2),a=i[0],s=i[1];return(0,z.jsxs)(b.Z,{sx:{marginBottom:5},children:[(0,z.jsx)(D,{avatar:(0,z.jsx)(f.Z,{sx:{bgcolor:E.Z[500]},src:(null===o||void 0===o||null===(e=o.photos)||void 0===e?void 0:e.large)||"",children:"A"}),action:(0,z.jsx)(p.Z,{children:(0,z.jsx)(J.Z,{})}),title:null===o||void 0===o?void 0:o.fullName,subheader:n.date}),(0,z.jsx)(L.Z,{children:(0,z.jsx)(v.Z,{variant:"body2",color:"text.secondary",children:n.message})}),(0,z.jsxs)(R.Z,{disableSpacing:!0,children:[(0,z.jsx)(v.Z,{children:a?n.likesCount+1:n.likesCount}),(0,z.jsx)(m.Z,{icon:(0,z.jsx)(x.Z,{}),checked:a,onChange:function(){s(!a)},checkedIcon:(0,z.jsx)(Z.Z,{})}),(0,z.jsx)(p.Z,{"aria-label":"delete",sx:{marginLeft:"auto"},children:(0,z.jsx)(h.Z,{})})]})]})},V=n(6151),W=n(4554),G=n(1686);var U=function(){var t="object"===typeof window,e=(0,l.useState)(t?window.innerWidth:void 0),n=(0,d.Z)(e,2),o=n[0],r=n[1];return(0,l.useEffect)((function(){function e(){r(window.innerWidth)}if(t)return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[t,r]),o},Y=n(2506),_=n(7491),Q=n(7460),$=function(t){var e=t.onAddPost,n=U();return(0,z.jsx)(Y.J9,{initialValues:{newPostText:""},onSubmit:function(t,n){var o=n.resetForm;e(t.newPostText),o()},validationSchema:_.wS,children:function(t){t.values,t.handleChange;var e=t.errors,o=t.touched,r=t.dirty;return(0,z.jsx)(W.Z,{sx:{maxWidth:{sm:"70%"}},mb:2,children:(0,z.jsxs)(Y.l0,{children:[(0,Q.Gr)("newPostText",null,o,e,"text","medium",!0,"Your news","filled",!0),(0,z.jsx)(W.Z,{mt:2,sx:{textAlign:"end"},children:(0,z.jsx)(V.Z,{variant:"contained",type:"submit",endIcon:(0,z.jsx)(G.Z,{}),fullWidth:!!n&&n<600,disabled:!r||!!e.newPostText,children:"Send"})})]})})}})},q=n(4165),K=n(5861),X=n(4098),tt=function(t){return X.e.get("profile/".concat(t)).then((function(t){return t.data}))},et=function(t){return X.e.get("profile/status/".concat(t)).then((function(t){return t.data}))},nt=function(t){return X.e.put("profile/status",{status:t}).then((function(t){return t.data}))},ot=function(t){var e=new FormData;return e.append("image",t),X.e.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return t.data}))},rt=function(t){return X.e.put("profile",t).then((function(t){return t.data}))},it=n(6930),at=function(t){return function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n){var o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t);case 2:o=e.sent,n((r=o,{type:it.PU,profile:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},st=function(t){return{type:it.d0,status:t}},lt=n(5379),ut=l.memo((function(){var t=(0,u.I0)(),e=(0,u.v9)(lt.H),n=(0,u.v9)(lt.d);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(v.Z,{mt:2,variant:"h6",component:"h2",children:"My posts"}),(0,z.jsx)($,{onAddPost:function(e){var n;t((n=e,{type:it.os,newPostText:n}))}}),(0,z.jsx)(c.Z,{children:n.map((function(t){return(0,z.jsx)(H,{item:t,profile:e},t.id)}))})]})})),ct=n(911),dt=n(3786),pt=n(3768),ht=n(1286),ft=n(9048),vt=n(1198),mt=n(9900),xt=n(7064),Zt=n(8595);function bt(t,e){if(null==t)return{};var n,o,r=(0,g.Z)(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var jt,gt=n(168),yt=n(9663),wt=n(9823),kt=n(3466),Ct=n(5421),Pt=["text","isPlaceholder","placeholder"],Mt=["value","onChange","disabled","getInputText","getSizeText","placeholder","hideSizeText","inputProps","InputProps","multiple","className"],St=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Ft=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],At=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],zt=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Tt=function(t,e,n){var o=t;return"string"==typeof e||Array.isArray(e)?o=t.toLocaleString(e,n):(!0===e||void 0!==n)&&(o=t.toLocaleString(void 0,n)),o};function Nt(t,e){if(!Number.isFinite(t))throw new TypeError("Expected a finite number, got ".concat(typeof t,": ").concat(t));var n=(e=(0,o.Z)({bits:!1,binary:!1},e)).bits?e.binary?zt:At:e.binary?Ft:St;if(e.signed&&0===t)return" 0 ".concat(n[0]);var r,i=t<0,a=i?"-":e.signed?"+":"";if(i&&(t=-t),void 0!==e.minimumFractionDigits&&(r={minimumFractionDigits:e.minimumFractionDigits}),void 0!==e.maximumFractionDigits&&(r=(0,o.Z)({maximumFractionDigits:e.maximumFractionDigits},r)),t<1)return a+Tt(t,e.locale,r)+" "+n[0];var s=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),n.length-1);return t/=Math.pow(e.binary?1024:1e3,s),r||(t=t.toPrecision(3)),a+Tt(Number(t),e.locale,r)+" "+n[s]}var Bt={Label:(0,P.ZP)("label")(jt||(jt=(0,gt.Z)(["\n  position: relative;\n\n  input {\n    opacity: 0 !important;\n  }\n\n  span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n  }\n\n  span.MuiFileInput-placeholder {\n    color: gray;\n  }\n"])))},Ot=l.forwardRef((function(t,e){var n=t.text,r=t.isPlaceholder,i=t.placeholder,a=bt(t,Pt),s=l.useId();return(0,z.jsxs)(Bt.Label,{htmlFor:s,children:[(0,z.jsx)("input",(0,o.Z)((0,o.Z)({},a),{},{ref:e,id:s})),n?(0,z.jsx)("span",{"aria-placeholder":i,className:r?"MuiFileInput-placeholder":"",children:n}):null]})}));function It(t){return typeof window<"u"&&t instanceof File}function Dt(t){var e,n=t.value,r=t.onChange,i=t.disabled,a=t.getInputText,s=t.getSizeText,u=t.placeholder,c=t.hideSizeText,d=t.inputProps,h=t.InputProps,f=t.multiple,m=t.className,x=bt(t,Mt),Z=l.useRef(null),b=f||(null===d||void 0===d?void 0:d.multiple)||(null===h||void 0===h||null===(e=h.inputProps)||void 0===e?void 0:e.multiple)||!1,j=Array.isArray(n)?function(t){return t.length>0}(n):It(n);return(0,z.jsx)(Ct.Z,(0,o.Z)({type:"file",disabled:i,onChange:function(t){var e=t.target.files,n=e?function(t){return Array.from(t)}(e):[];(function(){var t=Z.current;t&&(t.value="")})(),null===r||void 0===r||r(b?n:n[0])},className:"MuiFileInput-TextField ".concat(m||""),InputProps:(0,o.Z)((0,o.Z)({startAdornment:(0,z.jsx)(kt.Z,{position:"start",children:(0,z.jsx)(yt.Z,{})}),endAdornment:(0,z.jsxs)(kt.Z,{position:"end",style:{visibility:j?"visible":"hidden"},children:[c?null:(0,z.jsx)(v.Z,{variant:"caption",mr:"2px",className:"MuiFileInput-Typography-size-text",children:function(){if("function"==typeof s&&void 0!==n)return s(n);if(j){if(Array.isArray(n)){var t=function(t){return t.reduce((function(t,e){return t+e.size}),0)}(n);return Nt(t)}if(It(n))return Nt(n.size)}return""}()}),(0,z.jsx)(p.Z,{"aria-label":"Clear",title:"Clear",size:"small",disabled:i,className:"MuiFileInput-IconButton",onClick:function(t){t.preventDefault(),!i&&(null===r||void 0===r||r(f?[]:null))},children:(0,z.jsx)(wt.Z,{fontSize:"small"})})]})},h),{},{inputProps:(0,o.Z)((0,o.Z)({text:function(){return null===n||Array.isArray(n)&&0===n.length?u||"":"function"==typeof a&&void 0!==n?a(n):n&&j?Array.isArray(n)&&n.length>1?"".concat(n.length," files"):function(t,e){if(t.length<e)return t;var n=Math.floor((e-1)/2);return"".concat(t.slice(0,n),"\u2026").concat(t.slice(t.length-n))}(It(n)?n.name:(null===(t=n[0])||void 0===t?void 0:t.name)||"",20):"";var t}(),multiple:b,isPlaceholder:null===n||Array.isArray(n)&&0===n.length,ref:Z,placeholder:u},d),null===h||void 0===h?void 0:h.inputProps),inputComponent:Ot})},x))}var Lt=n(3457),Rt=(0,Lt.Z)(W.Z)((function(t){var e=t.theme;return(0,j.Z)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,backgroundColor:e.palette.common.white,padding:30,borderRadius:20},e.breakpoints.down("md"),{width:"70%"})})),Et=(0,Lt.Z)(W.Z)((function(t){t.theme;return{display:"flex",flexDirection:"column",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:20,background:"transparent"}})),Jt=(0,Lt.Z)(p.Z)((function(t){t.theme;return{marginLeft:"auto",transform:"translate(10px, 5px)",color:"white"}})),Ht=(0,Lt.Z)(W.Z)((function(t){var e=t.theme;return(0,j.Z)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:400,backgroundColor:e.palette.common.white,padding:30,borderRadius:20},e.breakpoints.down("sm"),{width:"70%",minWidth:"auto"})})),Vt=function(t){var e=t.openModal,n=t.savePhoto,o=t.handleCloseModal,r=l.useState(null),i=(0,d.Z)(r,2),a=i[0],s=i[1];return(0,z.jsx)("div",{children:(0,z.jsx)(Zt.Z,{open:e,onClose:o,children:(0,z.jsxs)(Rt,{children:[(0,z.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0439 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),(0,z.jsx)(v.Z,{id:"modal-modal-description",sx:{mt:2},children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 jpg \u0438\u043b\u0438 png."}),(0,z.jsx)(Dt,{sx:{mt:2},value:a,onChange:function(t){s(t),n(t),setTimeout((function(){o()}),2e3)}})]})})})},Wt="Modal_image__QwVyQ",Gt=function(t){var e=t.openModal,n=t.handleClosePhotoModal,o=t.photo;return(0,z.jsx)("div",{children:(0,z.jsx)(Zt.Z,{open:e,onClose:n,children:(0,z.jsxs)(Et,{children:[(0,z.jsx)(Jt,{"aria-label":"close",onClick:n,children:(0,z.jsx)(wt.Z,{})}),(0,z.jsx)("img",{className:Wt,src:o||vt,alt:"UserAvatar."})]})})})},Ut=function(t){var e=t.handleClick,n=t.anchorEl,o=t.handleClose,r=t.photo,i=t.isOwner,a=t.savePhoto,s=Boolean(n),u=l.useState(!1),c=(0,d.Z)(u,2),h=c[0],v=c[1],m=l.useState(!1),x=(0,d.Z)(m,2),Z=x[0],b=x[1];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Vt,{openModal:h,handleCloseModal:function(){return v(!1)},savePhoto:a}),(0,z.jsx)(Gt,{openModal:Z,handleClosePhotoModal:function(){return b(!1)},photo:r}),(0,z.jsx)(pt.Z,{title:"Avatar settings",children:(0,z.jsx)(p.Z,{onClick:e,"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,children:(0,z.jsx)(f.Z,{sx:{height:"100px",width:"100px"},src:r||vt})})}),(0,z.jsxs)(ct.Z,{anchorEl:n,id:"account-menu",open:s,onClose:o,onClick:o,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,z.jsxs)(dt.Z,{onClick:function(){o(),b(!0)},children:[(0,z.jsx)(xt.Z,{children:(0,z.jsx)(ft.Z,{fontSize:"small"})}),(0,z.jsx)(mt.Z,{children:"Open photo"})]}),i&&(0,z.jsxs)(dt.Z,{onClick:function(){o(),v(!0)},children:[(0,z.jsx)(xt.Z,{children:(0,z.jsx)(ht.Z,{fontSize:"small"})}),(0,z.jsx)(mt.Z,{children:"Edit photo"})]})]})]})},Yt=n(6314),_t=n(8289),Qt=function(t){var e,n,o,r,i,a,s,u,c=t.openForm,p=t.handleCloseModal,h=t.saveProfile,f=t.profile,v=l.useState(!1),x=(0,d.Z)(v,2),Z=x[0],b=x[1],j=function(t,e){"clickaway"!==e&&b(!1)};return(0,z.jsx)(Y.J9,{initialValues:{fullName:null===f||void 0===f?void 0:f.fullName,lookingForAJob:null===f||void 0===f?void 0:f.lookingForAJob,lookingForAJobDescription:null===f||void 0===f?void 0:f.lookingForAJobDescription,aboutMe:null===f||void 0===f?void 0:f.aboutMe,facebook:null===f||void 0===f||null===(e=f.contacts)||void 0===e?void 0:e.facebook,website:null===f||void 0===f||null===(n=f.contacts)||void 0===n?void 0:n.website,vk:null===f||void 0===f||null===(o=f.contacts)||void 0===o?void 0:o.vk,twitter:null===f||void 0===f||null===(r=f.contacts)||void 0===r?void 0:r.twitter,instagram:null===f||void 0===f||null===(i=f.contacts)||void 0===i?void 0:i.instagram,youtube:null===f||void 0===f||null===(a=f.contacts)||void 0===a?void 0:a.youtube,github:null===f||void 0===f||null===(s=f.contacts)||void 0===s?void 0:s.github,mainLink:null===f||void 0===f||null===(u=f.contacts)||void 0===u?void 0:u.mainLink},enableReinitialize:!0,onSubmit:function(t,e){var n=e.resetForm,o=(e.setStatus,{fullName:t.fullName||"",lookingForAJob:t.lookingForAJob||!1,lookingForAJobDescription:t.lookingForAJobDescription||"",aboutMe:t.aboutMe||"",contacts:{facebook:t.facebook||"",website:t.website||"",vk:t.vk||"",twitter:t.twitter||"",instagram:t.instagram||"",youtube:t.youtube||"",github:t.github||"",mainLink:t.mainLink||""}});h(o),n(),setTimeout((function(){p()}),1e3)},validationSchema:_.jE,children:function(t){t.values,t.handleChange;var e=t.errors,n=t.touched,o=t.dirty,r=t.status;return(0,z.jsx)(Zt.Z,{open:c,onClose:p,children:(0,z.jsx)(Ht,{children:(0,z.jsxs)(Y.l0,{children:[(0,z.jsxs)(Yt.Z,{spacing:2,children:[(0,Q.Gr)("fullName","Full name",n,e),(0,z.jsxs)("label",{style:{fontFamily:"raleway"},children:[(0,z.jsx)(Y.gN,{size:"small",as:m.Z,name:"lookingForAJob",type:"checkbox"}),"Looking for a job"]}),(0,Q.Gr)("lookingForAJobDescription","My professional skills",n,e),(0,Q.Gr)("aboutMe","About me",n,e),(0,z.jsx)(Yt.Z,{direction:"row",sx:{flexWrap:"wrap"},spacing:1,children:(null===f||void 0===f?void 0:f.contacts)&&Object.keys(null===f||void 0===f?void 0:f.contacts).map((function(t){return(0,z.jsx)(l.Fragment,{children:(0,Q.Gr)(t,t,n,e)},t)}))}),(0,z.jsx)(W.Z,{mt:2,sx:{textAlign:"end"},children:(0,z.jsx)(V.Z,{variant:"contained",type:"submit",endIcon:(0,z.jsx)(G.Z,{}),disabled:!o||!!e.fullName||!!e.lookingForAJob||!!e.lookingForAJobDescription||!!e.aboutMe||!!e.website||!!e.twitter||!!e.youtube||!!e.github||!!e.facebook||!!e.mainLink,fullWidth:!0,children:"Save"})})]}),(0,z.jsx)(_t.Z,{text:null===r||void 0===r?void 0:r.testError,open:Z,handleClose:j})]})})})}})},$t=function(t){var e=t.updateStatus,n=t.prevStatus,o=t.isOwner,r=(0,l.useState)(!1),i=(0,d.Z)(r,2),a=i[0],s=i[1],u=(0,l.useState)(n),c=(0,d.Z)(u,2),h=c[0],f=c[1];(0,l.useEffect)((function(){f(n)}),[n]);return a?(0,z.jsx)("form",{children:(0,z.jsx)(Ct.Z,{onChange:function(t){f(t.target.value)},variant:"standard",value:h,onBlur:function(){s(!1),e(h)},autoFocus:!0})}):(0,z.jsxs)(Yt.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,z.jsxs)(v.Z,{component:"p",children:["Status: ",n||"\u041d\u0435 \u0437\u0430\u0434\u0430\u043d"]}),o&&(0,z.jsx)(p.Z,{size:"small",onClick:function(){s(!0)},children:(0,z.jsx)(ht.Z,{fontSize:"inherit"})})]})},qt=function(t){var e=t.contactTitle,n=t.contactValue;return(0,z.jsxs)(v.Z,{component:"p",children:[e,": ",n]})},Kt=n(4721),Xt=function(t){var e=t.profile,n=t.status,o=t.updateStatus,r=t.isOwner,i=t.handleOpenForm;return(0,z.jsxs)(Yt.Z,{ml:{sm:2},children:[(0,z.jsxs)(v.Z,{component:"p",children:["Full name: ",null===e||void 0===e?void 0:e.fullName]}),(0,z.jsxs)(v.Z,{component:"p",children:["About me: ",null===e||void 0===e?void 0:e.aboutMe]}),(0,z.jsxs)(v.Z,{component:"p",children:["Looking for a job: ",null!==e&&void 0!==e&&e.lookingForAJob?"yes":"no"]}),(null===e||void 0===e?void 0:e.lookingForAJobDescription)&&(0,z.jsxs)(v.Z,{component:"p",children:["My professional skills: ",null===e||void 0===e?void 0:e.lookingForAJobDescription]}),(0,z.jsxs)(Yt.Z,{direction:"row",children:[(0,z.jsxs)(Yt.Z,{direction:"row",sx:{flexWrap:"wrap",fontFamily:"raleway"},children:["Contacts :\u2002",(null===e||void 0===e?void 0:e.contacts)&&Object.keys(null===e||void 0===e?void 0:e.contacts).map((function(t){return(0,z.jsxs)(l.Fragment,{children:[(0,z.jsx)(qt,{contactTitle:t,contactValue:null===e||void 0===e?void 0:e.contacts[t]}),"\u2002"]},t)}))]}),r&&(0,z.jsx)(p.Z,{size:"small",onClick:i,children:(0,z.jsx)(ht.Z,{fontSize:"inherit"})})]}),(0,z.jsx)(Kt.Z,{}),(0,z.jsx)($t,{prevStatus:n,updateStatus:o,isOwner:r})]})},te=(0,Lt.Z)(Yt.Z)((function(t){var e=t.theme;return(0,j.Z)({flexDirection:"row"},e.breakpoints.down("sm"),{flexDirection:"column"})})),ee=function(t){var e,n=t.profile,o=t.status,r=t.updateStatus,i=t.isOwner,a=t.savePhoto,s=t.saveProfile,u=(0,l.useState)(null),c=(0,d.Z)(u,2),p=c[0],h=c[1],f=(0,l.useState)(!1),v=(0,d.Z)(f,2),m=v[0],x=v[1];return(0,z.jsxs)(te,{children:[(0,z.jsx)(Ut,{handleClick:function(t){h(t.currentTarget)},anchorEl:p,handleClose:function(){h(null)},photo:(null===n||void 0===n||null===(e=n.photos)||void 0===e?void 0:e.large)||"",isOwner:i,savePhoto:a}),(0,z.jsx)(Qt,{openForm:m,handleCloseModal:function(){x(!1)},saveProfile:s,profile:n}),(0,z.jsx)(Xt,{status:o,updateStatus:r,profile:n,isOwner:i,handleOpenForm:function(){x(!0)}})]})},ne=function(t){var e=t.profile,n=t.status,o=t.updateStatus,r=t.isOwner,i=t.savePhoto,a=t.saveProfile;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ee,{profile:e,status:n,updateStatus:o,isOwner:r,savePhoto:i,saveProfile:a}),r&&(0,z.jsx)(ut,{})]})},oe=n(7689);var re=function(t){return function(e){var n=(0,oe.TH)(),r=(0,oe.s0)(),i=(0,oe.UO)();return(0,z.jsx)(t,(0,o.Z)((0,o.Z)({},e),{},{router:{location:n,navigate:r,params:i},navigate:r}))}},ie=n(7781),ae=n(3585),se=["isAuth"],le=function(t){return{isAuth:t.authReducer.isAuth}};function ue(t){return(0,u.$j)(le)((function(e){var n=e.isAuth,r=bt(e,se);return n?(0,z.jsx)(t,(0,o.Z)({},r)):(0,z.jsx)(oe.Fg,{to:ae.wm})}))}var ce=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"refreshProfile",value:function(){var t=this.props.router.params.id;"*"!==t&&t||(t=this.props.authorizedUserId)||window.location.replace(ae.wm),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.router.params.id!==t.router.params.id&&this.refreshProfile()}},{key:"render",value:function(){return(0,z.jsx)(ne,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.router.params.id||"*"===this.props.router.params.id,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),n}(l.Component),de=(0,ie.qC)((0,u.$j)((function(t){return{profile:t.profileReducer.profile,status:t.profileReducer.status,authorizedUserId:t.authReducer.userId,isAuth:t.authReducer.isAuth}}),{getUserProfile:at,getStatus:function(t){return function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n){var o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(t);case 2:o=e.sent,n(st(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatus:function(t){return function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n){var o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt(t);case 3:0===(o=e.sent).resultCode&&n(st(t)),1===o.resultCode&&Promise.reject("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044f \u0434\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 - 300 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n){var o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(t);case 2:0===(o=e.sent).resultCode&&n((r=o.data.photos,{type:it.zj,photos:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},saveProfile:function(t){return function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n,o){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o().authReducer.userId,e.next=3,rt(t);case 3:0===e.sent.resultCode&&r&&n(at(r));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),re,ue)(ce)},9663:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");e.Z=a},9823:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=a},7247:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.Z=a},1286:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=a},7237:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=a},7488:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");e.Z=a},2898:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");e.Z=a},9048:function(t,e,n){var o=n(4836);e.Z=void 0;var r=o(n(5649)),i=n(184),a=(0,r.default)((0,i.jsx)("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}),"Panorama");e.Z=a}}]);
//# sourceMappingURL=700.1a7a9432.chunk.js.map